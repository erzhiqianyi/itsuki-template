---
import BaseLayout from '../layouts/BaseLayout.astro';
import { SITE_CONFIG, t } from '../data/site-config';

// Mock 数据
const heroData = {
  avatar: "https://api.dicebear.com/7.x/notionists/svg?seed=Itsuki",
  intro: { ja: "こんにちは、Itsukiです", en: "Hi, I'm Itsuki" },
  philosophy: {
    ja: "「技術は手段であり、生活こそが目的である。」",
    en: "Technology is a means, but life is the purpose."
  },
  roles: [
    { label: { ja: "フルスタックエンジニア", en: "Full-stack Developer" }, color: "text-accent" },
    { label: { ja: "写真愛好家", en: "Photography Enthusiast" }, color: "text-peach" }
  ],
  stats: [
    { value: "40+", label: { ja: "プロジェクト", en: "Projects" } },
    { value: "5k+", label: { ja: "写真", en: "Photos" } }
  ]
};

const nowData = {
  title: { ja: "東京での生活", en: "Life in Tokyo" },
  desc: { ja: "日本語学校で勉強中", en: "Studying at Japanese Language School" },
  items: [
    { icon: "book", label: { ja: "学習", en: "Study" }, title: "JLPT N2 Preparation", color: "text-accent", bgColor: "bg-accent/10" },
    { icon: "camera", label: { ja: "趣味", en: "Hobby" }, title: "Shinjuku Street Photo", color: "text-peach", bgColor: "bg-peach/10" }
  ]
};

const blogPosts = [
  { id: 1, title: { ja: "Astro 5.0 へのアップグレードガイド", en: "Astro 5.0 Upgrade Guide" }, summary: { ja: "新機能と移行の注意点...", en: "New features and migration tips..." }, date: "2024-12-20", tag: "Tech", cover: "https://images.unsplash.com/photo-1618477247222-acbdb0e159b3?q=80&w=400" },
  { id: 2, title: { ja: "東京の冬、カメラを持って", en: "Winter in Tokyo with Camera" }, summary: { ja: "フィルム写真の魅力について", en: "About the charm of film photography" }, date: "2024-12-15", tag: "Life", cover: "https://images.unsplash.com/photo-1503899036084-c55cdd92da26?q=80&w=400" },
  { id: 3, title: { ja: "効率的な日本語学習法", en: "Efficient Japanese Learning" }, summary: { ja: "半年でN3からN2へ", en: "From N3 to N2 in half a year" }, date: "2024-12-10", tag: "Study", cover: "https://images.unsplash.com/photo-1528459801416-a7e99b0d6116?q=80&w=400" }
];

const videos = [
  { title: "Tokyo VLOG #1", info: "2.4k views • 1 week ago", cover: "https://images.unsplash.com/photo-1540959733332-eab4deabeeaf?q=80&w=400" },
  { title: "My Workspace Tour", info: "5.1k views • 1 month ago", cover: "https://images.unsplash.com/photo-1497215728101-856f4ea42174?q=80&w=400" }
];

const photos = [
  "https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?q=80&w=1200",
  "https://images.unsplash.com/photo-1524413139048-47c4ba3dc633?q=80&w=1200",
  "https://images.unsplash.com/photo-1503899036084-c55cdd92da26?q=80&w=1200"
];

const jlptData = [
  { level: "N1", status: { ja: "目標", en: "Target" }, progress: 30, color: "bg-red" },
  { level: "N2", status: { ja: "学習中", en: "Studying" }, progress: 75, color: "bg-accent" },
  { level: "N3", status: { ja: "合格済み", en: "Passed" }, progress: 100, color: "bg-green" }
];

const tags = ["Astro", "Tailwind", "Photography", "React", "TypeScript", "Tokyo", "Japanese", "Minimalism", "Design", "Nature"];

const lang = 'ja'; // 这里可以根据路由获取语言
---

    <BaseLayout lang={lang}>
<div class="grid grid-cols-1 md:grid-cols-4 gap-4 auto-rows-[minmax(180px,auto)]">

    <!-- Hero Card -->
<a href="/about" class="bento-card col-span-1 md:col-span-2 rounded-3xl p-8 group flex flex-col justify-between">
<div class="flex flex-col h-full justify-center">
<div class="flex items-center gap-6 mb-4">
<div class="w-20 h-20 rounded-2xl bg-[#181825] overflow-hidden shadow-lg shrink-0 border border-white/5">
<img src={heroData.avatar} alt="Avatar" class="w-full h-full object-cover">
</div>
<div>
<h2 class="text-2xl font-bold text-white mb-1">{heroData.intro[lang]}</h2>
    <div class="font-mono text-xs space-y-1">
    {heroData.roles.map(role => (
          <p class="text-gray-400">> <span class={role.color}>{role.label[lang]}</span></p>
))}
</div>
</div>
</div>
<p class="text-sm text-gray-400 font-serif italic border-l-2 border-white/10 pl-4 py-1 mb-2">
    {heroData.philosophy[lang]}
    </p>
    </div>
    <div class="flex items-center gap-8 border-t border-white/5 pt-4 mt-2">
    {heroData.stats.map(stat => (
          <div>
              <span class="block text-2xl font-bold text-white font-mono">{stat.value}</span>
              <span class="text-[10px] uppercase tracking-wider text-[var(--subtext)] font-bold">{stat.label[lang]}</span>
      </div>
))}
</div>
</a>

<!-- Now Card -->
<a href="/now" class="bento-card col-span-1 rounded-3xl p-6 flex flex-col justify-between relative overflow-hidden group">
<div class="flex items-center justify-between mb-4 relative z-10 px-1">
<div class="flex items-center gap-2">
<div class="p-2 bg-[#a6e3a11a] rounded-lg text-[#a6e3a1]">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><path d="M22 12h-4l-3 9L9 3l-3 9H2"/></svg>
    </div>
    <h3 class="font-bold text-white text-xs">NOW</h3>
    </div>
    <span class="relative flex h-2 w-2">
<span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
    <span class="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
    </span>
    </div>
    <div class="flex-1 flex flex-col gap-3 relative z-10">
<div class="px-1 mb-2">
<h3 class="text-lg font-bold text-white leading-tight mb-1">{nowData.title[lang]}</h3>
    <p class="text-[10px] text-[var(--subtext)] line-clamp-1 opacity-60">{nowData.desc[lang]}</p>
    </div>
    <div class="space-y-2">
{nowData.items.map(item => (
      <div class="flex items-center gap-3 bg-white/5 rounded-xl p-3">
      <div class={`w-9 h-9 rounded-lg ${item.bgColor} flex items-center justify-center ${item.color} shrink-0`}>
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
    </div>
    <div class="flex-1 min-w-0">
<div class="flex justify-between items-center mb-0.5">
<span class="text-[9px] font-mono text-[var(--subtext)] uppercase font-bold tracking-wider">{item.label[lang]}</span>
    </div>
    <div class="text-[11px] font-bold text-white truncate leading-tight">{item.title}</div>
    </div>
    </div>
))}
</div>
</div>
</a>

<!-- Connect Card -->
<div class="bento-card col-span-1 rounded-3xl p-6 flex flex-col">
<div class="flex items-center gap-2 mb-4">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4 text-gray-400"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/></svg>
    <h3 class="font-bold text-white text-sm">{t('connect', lang)}</h3>
</div>
<div class="flex flex-col gap-2 flex-1 justify-center">
{SITE_CONFIG.socials.map(social => (
      <a href={social.href} target="_blank" class="flex items-center gap-3 bg-white/5 rounded-xl p-3 transition-all group hover:pl-4">
  <div class={`w-5 h-5 flex items-center justify-center group-hover:text-white transition-colors`}>
<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>
    </div>
    <div class="flex flex-col min-w-0">
<span class="text-[10px] font-mono text-[var(--subtext)] uppercase font-bold tracking-wider">{social.label}</span>
    <span class="text-[9px] font-mono text-gray-500 truncate group-hover:text-[var(--accent)]">{social.handle}</span>
    </div>
    </a>
))}
</div>
</div>

<!-- Blog Posts Section -->
<div class="bento-card col-span-1 md:col-span-2 row-span-2 rounded-3xl flex flex-col overflow-hidden max-h-[500px]">
<div class="p-6 border-b border-white/5 flex justify-between items-center bg-white/[0.02]">
<h3 class="font-bold text-lg flex items-center gap-2 text-white">
<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-[var(--accent)]"><path d="M12 19l7-7 3 3-7 7-3-3z"/><path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/><path d="M2 2l7.586 7.586"/><circle cx="11" cy="11" r="2"/></svg>
{t('blog', lang)}
</h3>
<a href="/blog" class="text-xs font-mono text-[var(--accent)] hover:underline">{t('viewAll', lang)}</a>
</div>
<div class="flex-1 overflow-y-auto scroller">
    {blogPosts.map(post => (
          <a href="/blog/post" class="flex gap-4 p-4 border-b border-white/5 hover:bg-white/5 transition group/item">
      <div class="w-24 h-16 rounded-lg overflow-hidden shrink-0 border border-white/5 bg-[#181825]">
      <img src={post.cover} class="w-full h-full object-cover opacity-80 group-hover/item:scale-110 transition duration-500" alt="">
      </div>
      <div class="flex flex-col justify-center min-w-0">
      <h4 class="text-sm font-bold text-white mb-0.5 group-hover/item:text-[var(--accent)] truncate">{post.title[lang]}</h4>
          <p class="text-[10px] text-gray-400 line-clamp-1 mb-1 italic font-serif">{post.summary[lang]}</p>
      <div class="text-[9px] text-gray-500 font-mono">
      <span>{post.date}</span> • <span class="text-[var(--accent)]">#{post.tag}</span>
    </div>
    </div>
    </a>
))}
</div>
</div>

<!-- Videos Section -->
<div class="bento-card col-span-1 md:col-span-2 row-span-2 rounded-3xl flex flex-col overflow-hidden max-h-[500px]">
<div class="p-6 border-b border-white/5 flex justify-between items-center bg-white/[0.02]">
<h3 class="font-bold text-lg flex items-center gap-2 text-white">
<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-red-500"><path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"/><polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"/></svg>
Videos
</h3>
<a href="/videos" class="text-xs font-mono text-red-400 hover:underline">Gallery -></a>
</div>
<div class="flex-1 overflow-y-auto scroller">
    {videos.map(video => (
          <a href="/videos" class="flex gap-4 p-4 border-b border-white/5 hover:bg-white/5 transition group/vid">
      <div class="w-24 h-16 bg-[#181825] rounded-lg overflow-hidden shrink-0 border border-white/5">
      <img src={video.cover} class="w-full h-full object-cover opacity-80 group-hover/vid:scale-110 transition duration-500" alt="">
      </div>
      <div class="flex flex-col justify-center min-w-0">
      <h4 class="text-sm font-bold text-white mb-1 truncate">{video.title}</h4>
          <div class="text-[10px] text-gray-500 font-mono">{video.info}</div>
      </div>
      </a>
))}
</div>
</div>

<!-- Gallery Section (Full Width) -->
<a href="/photos" class="bento-card col-span-1 md:col-span-4 rounded-3xl relative overflow-hidden group/photos h-80 md:h-[450px]">
<div class="absolute bottom-6 left-1/2 -translate-x-1/2 flex gap-2 z-30">
<div class="w-20 h-1 bg-white/20 rounded-full overflow-hidden">
<div class="h-full bg-peach w-1/3"></div>
    </div>
    </div>
    <div class="w-full h-full relative">
<img src={photos[0]} class="w-full h-full object-cover group-hover/photos:scale-105 transition-transform duration-[2s]" alt="Gallery">
    </div>
    <div class="absolute top-6 right-6 z-30 bg-black/40 backdrop-blur-md p-3 rounded-full border border-white/10 opacity-0 group-hover/photos:opacity-100 transition-all duration-500 scale-75 group-hover/photos:scale-100">
<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white"><path d="M15 3h6v6"/><path d="M9 21H3v-6"/><path d="M21 3l-7 7"/><path d="M3 21l7-7"/></svg>
    </div>
    <div class="absolute inset-x-0 bottom-0 h-32 bg-gradient-to-t from-black/60 to-transparent pointer-events-none z-20 opacity-60"></div>
    </a>

    <!-- Bottom Half Grid -->
    <div class="md:col-span-4 grid grid-cols-1 md:grid-cols-2 gap-4">
<div class="flex flex-col gap-4">
    <!-- JLPT Card -->
<div class="bento-card bg-card rounded-3xl p-6 flex flex-col justify-center">
<h3 class="font-bold text-lg mb-4 flex items-center gap-2 text-white">
    日本語学習 (JLPT)
    </h3>
    <div class="space-y-4">
    {jlptData.map(item => (
          <div>
              <div class="flex justify-between text-xs font-mono mb-1.5">
          <span class={item.color.replace('bg-', 'text-')}>{item.level}</span>
              <span class="text-gray-400">{item.status[lang]}</span>
      </div>
      <div class="w-full bg-gray-700/50 h-2 rounded-full overflow-hidden shadow-inner">
      <div class={`${item.color} h-full transition-all duration-1000 ease-out`} style={`width: ${item.progress}%`}></div>
</div>
</div>
))}
</div>
</div>

<!-- Project Card -->
<a href="https://github.com/erzhiqianyi/ItsukiDigitalGarden" target="_blank" class="bento-card bg-card rounded-3xl p-6 flex flex-col justify-between group/project">
<div class="flex items-center gap-3 mb-2">
<div class="p-2 bg-[#89b4fa1a] rounded-lg text-[#89b4fa] group-hover/project:scale-110 transition duration-300">
<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>
    </div>
    <h3 class="font-bold text-white text-xs uppercase tracking-wider uppercase">Ongoing Project</h3>
</div>
<div class="flex-1 flex flex-col justify-center py-2">
<h4 class="text-base font-bold text-white mb-1 group-hover/project:text-[var(--accent)] transition">ItsukiDigitalGarden</h4>
    <p class="text-[11px] text-[var(--subtext)] line-clamp-2 leading-relaxed">A digital garden built with Astro & Tailwind.</p>
</div>
<div class="mt-4 pt-3 border-t border-white/5 flex items-center justify-between text-[10px] font-mono text-[var(--accent)]">
<span class="font-bold uppercase">View Source</span>
<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
    </div>
    </a>
    </div>

    <!-- Topics Card -->
    <div class="bento-card bg-card rounded-3xl p-6 flex flex-col">
<div class="flex items-center gap-2 mb-4">
<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-400"><line x1="4" y1="9" x2="20" y2="9"/><line x1="4" y1="15" x2="20" y2="15"/><line x1="10" y1="3" x2="8" y2="21"/><line x1="16" y1="3" x2="14" y2="21"/></svg>
    <h3 class="font-bold text-white text-lg">Topics</h3>
    </div>
    <div class="flex flex-wrap gap-2 content-start overflow-y-auto scroller h-full max-h-80 pr-1">
    {tags.map(tag => (
          <span class="px-3 py-1 bg-white/5 rounded-full text-[10px] text-[var(--subtext)] border border-white/5 hover:border-[var(--accent)] transition cursor-default">
              #{tag}
              </span>
      ))}
    </div>
    </div>
    </div>

    </div>
    </BaseLayout>